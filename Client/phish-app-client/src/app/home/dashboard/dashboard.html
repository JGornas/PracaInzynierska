<div class="dashboard">
  <header class="hero">
    <div class="hero-copy">
      <span class="eyebrow">Panel</span>
      <h1>Centrum dowodzenia kampaniami</h1>
      <p class="lead">
        Monitoruj skuteczność wysyłek, reakcje odbiorców i punkty ryzyka w jednym miejscu.
      </p>
    </div>
  </header>

  <section class="kpi-grid">
    @for (card of kpiCards; track card.label) {
      <article class="kpi-card" [style.--tone]="card.tone">
        <div class="kpi-header">
          <span class="kpi-label">{{ card.label }}</span>
          <span class="kpi-chip">{{ card.delta }}</span>
        </div>
        <div class="kpi-value">{{ card.value }}</div>
        <div class="kpi-meta">{{ card.meta }}</div>
        <div class="kpi-spark">
          @for (spark of card.spark; track $index) {
            <span class="spark-bar" [style.height.%]="spark"></span>
          }
        </div>
      </article>
    }
  </section>

  <section class="insights-grid">
    <article class="card activity-card">
      <div class="card-header">
        <div>
          <h3>Ostatnie interakcje</h3>
          <p>Najświeższe reakcje odbiorców z aktywnych kampanii.</p>
        </div>
        <span class="card-tag">24h</span>
      </div>
      <ul class="activity-list">
        @for (item of activities; track item.title + item.time) {
          <li class="activity-item" [style.--tone]="item.tone">
            <div class="activity-main">
              <div class="activity-title">{{ item.title }}</div>
              <div class="activity-action">{{ item.action }}</div>
              <div class="activity-campaign">{{ item.campaign }}</div>
            </div>
            <div class="activity-time">{{ item.time }}</div>
          </li>
        }
      </ul>
    </article>

    <article class="card performance-card">
      <div class="card-header">
        <div>
          <h3>Skuteczność kampanii</h3>
          <p>Porównanie otwarć, kliknięć i wypełnionych formularzy.</p>
        </div>
        <span class="card-tag">status live</span>
      </div>
      <div class="campaign-list">
        @for (campaign of campaigns; track campaign.name) {
          <div class="campaign-row" [style.--tone]="campaign.tone">
            <div class="campaign-head">
              <div>
                <div class="campaign-name">{{ campaign.name }}</div>
                <div class="campaign-status">{{ campaign.status }}</div>
              </div>
              <div class="campaign-sent">Wysłano: {{ campaign.sent }}</div>
            </div>
            <div class="campaign-metrics">
              <div class="metric-line">
                <span>Otwarcia</span>
                <span>{{ campaign.openRate }}%</span>
              </div>
              <div class="progress">
                <span class="progress-fill" [style.width.%]="campaign.openRate"></span>
              </div>
              <div class="metric-line">
                <span>Kliknięcia</span>
                <span>{{ campaign.clickRate }}%</span>
              </div>
              <div class="progress">
                <span class="progress-fill soft" [style.width.%]="campaign.clickRate"></span>
              </div>
              <div class="metric-line">
                <span>Formularze</span>
                <span>{{ campaign.submittedRate }}%</span>
              </div>
              <div class="progress">
                <span class="progress-fill warm" [style.width.%]="campaign.submittedRate"></span>
              </div>
            </div>
          </div>
        }
      </div>
    </article>

    <article class="card risk-card">
      <div class="card-header">
        <div>
          <h3>Ryzyko działów</h3>
          <p>Najbardziej narażone zespoły i ich trend.</p>
        </div>
        <span class="card-tag">skala 0-100</span>
      </div>
      <div class="risk-list">
        @for (dept of departments; track dept.name) {
          <div class="risk-row" [style.--tone]="dept.tone">
            <div class="risk-name">{{ dept.name }}</div>
            <div class="risk-bar">
              <span class="risk-fill" [style.width.%]="dept.risk"></span>
            </div>
            <div class="risk-meta">
              <span class="risk-score">{{ dept.risk }}</span>
              <span class="risk-trend">{{ dept.trend }}</span>
            </div>
          </div>
        }
      </div>
    </article>
  </section>
</div>
